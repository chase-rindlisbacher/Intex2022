{% extends 'base.html' %}
{% load static %}
{% block pageCSS %}
<link href="{% static 'css/our.css' %}" rel="stylesheet">
{% endblock %}
{% block navigation %}
<nav id="navbar" class="navbar order-last order-lg-0">
  <ul>
    <li><a class="nav-link scrollto" href="{% url 'index' %}">Home</a></li>
    <li><a class="nav-link scrollto active" href="{% url 'mydashboard' %}">MyDashboard</a></li>
    <li><a class="nav-link scrollto" href="{% url 'myfoodjournal' %}">MyFoodJournal</a></li>
    <li><a class="nav-link scrollto" href="{% url 'mymenu' %}">MyMenu</a></li>
    <li><a class="nav-link scrollto" href="{% url 'mycommunity' %}">MyCommunity</a></li>
    <li><a class="nav-link scrollto" href="{% url 'index' %}">MyLearningCenter</a></li>
    <li><a class="nav-link scrollto" href="{% url 'myprofile' %}">MyProfile</a></li>
    <li><a class="nav-link scrollto" href="{% url 'index' %}#faq">FAQ</a></li>
    <!-- Keep but don't use right now 
    <li class="dropdown"><a href="#"><span>Drop Down</span> <i class="bi bi-chevron-down"></i></a>
      <ul>
        <li><a href="#">Drop Down 1</a></li>
        <li class="dropdown"><a href="#"><span>Deep Drop Down</span> <i class="bi bi-chevron-right"></i></a>
          <ul>
            <li><a href="#">Deep Drop Down 1</a></li>
            <li><a href="#">Deep Drop Down 2</a></li>
            <li><a href="#">Deep Drop Down 3</a></li>
            <li><a href="#">Deep Drop Down 4</a></li>
            <li><a href="#">Deep Drop Down 5</a></li>
          </ul>
        </li>
        <li><a href="#">Drop Down 2</a></li>
        <li><a href="#">Drop Down 3</a></li>
        <li><a href="#">Drop Down 4</a></li>
      </ul>
    </li>-->
  </ul>
  <i class="bi bi-list mobile-nav-toggle"></i>
</nav><!-- .navbar -->
{% if user.is_authenticated %}
<a href="{% url 'logout' %}" class="appointment-btn scrollto"><span class="d-none d-md-inline">Logout</span></a>
{% else %}
<a href="{% url 'login' %}" class="appointment-btn scrollto"><span class="d-none d-md-inline">Login</span></a>
{% endif %}{% endblock %}
{% block content %}
<!-- ======= Hero Section ======= -->
<section id="hero-dashboard" class="d-flex align-items-center">
    <div class="container">
      <h1>Track your nutritional goals</h1>
      <h2>These charts are your friend. Our goal is to help you visualize your progess, give tips for how you can reach your goals, and help you enjoy your kidney-friendly lifestyle</h2>
      {% if user.is_authenticated %}
      {% else %}
      <a href="{% url 'login' %}" class="btn-get-started scrollto">Get Started</a>
      {% endif %}
    </div>
  </section><!-- End Hero -->
  <main id="main">
    <section id='charts-section'>
      {% if user.is_authenticated %}
    <div id='radio_chart_mg' class='chartBox'>
      <canvas id="myChart"></canvas>
    </div>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      <script>
      const ctx = document.getElementById('myChart').getContext('2d');
      const myChart = new Chart(ctx, {
          type: 'pie',
          data: {
              labels: ["sodium",
              "potassium",
              "phosphorus",],
              datasets: [{
                  label: 'Sodium',
                  data: [{% for t in user_sodium %} {{ t }}, {% endfor %}],
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              },
              {
                label: 'Potassium',
                  data: [{% for t in user_potassium %} {{ t }}, {% endfor %}],
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              },
              {
                label: 'Phosphorus',
                  data: [{% for t in user_phosphorus %} {{ t }}, {% endfor %}],
                  backgroundColor: [
                      'rgba(255, 99, 132, 0.2)',
                      'rgba(54, 162, 235, 0.2)',
                      'rgba(255, 206, 86, 0.2)',
                      'rgba(75, 192, 192, 0.2)',
                      'rgba(153, 102, 255, 0.2)',
                      'rgba(255, 159, 64, 0.2)'
                  ],
                  borderColor: [
                      'rgba(255, 99, 132, 1)',
                      'rgba(54, 162, 235, 1)',
                      'rgba(255, 206, 86, 1)',
                      'rgba(75, 192, 192, 1)',
                      'rgba(153, 102, 255, 1)',
                      'rgba(255, 159, 64, 1)'
                  ],
                  borderWidth: 1
              }]

          },
          options: {
              scales: {
                  y: {
                      beginAtZero: true
                  }
              }
          }
      });
      </script>
        {% endif %}
    </section>
    <!-- ======= Services Section ======= -->
    <section id="services" class="services">
      <center>
        <div class="container">

          <div class="section-title">
            <h2>Services</h2>
            <p>To help you achieve your wellbeing goals, we're happy to offer 6 services</p>
          </div>

          <div class="row">
            
            <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-md-0">
              <div class="icon-box-dashboard container">
                  <canvas id="chart1"></canvas>
              </div>
                  <script>
                    let ctx1 = document.getElementById("chart1").getContext("2d");
                    let chart1 = new Chart(ctx1, {
                      type: "radar",
                      data: {
                        labels: [
                          "potassium",
                          "phospherus",
                          "sodium",
                        ],
                        datasets: [
                          {
                            label: "Potassium",
                            data: [65, 59, 90, 81, 56, 55, 40],
                            fill: true,
                            backgroundColor: "rgba(255, 99, 132, 0.2)",
                            borderColor: "rgb(255, 99, 132)",
                            pointBackgroundColor: "rgb(255, 99, 132)",
                            pointBorderColor: "#fff",
                            pointHoverBackgroundColor: "#fff",
                            pointHoverBorderColor: "rgb(255, 99, 132)",
                          },
                          {
                            label: "My Second Dataset",
                            data: [28, 48, 40, 19, 96, 27, 100],
                            fill: true,
                            backgroundColor: "rgba(54, 162, 235, 0.2)",
                            borderColor: "rgb(54, 162, 235)",
                            pointBackgroundColor: "rgb(54, 162, 235)",
                            pointBorderColor: "#fff",
                            pointHoverBackgroundColor: "#fff",
                            pointHoverBorderColor: "rgb(54, 162, 235)",
                          },
                          {
                            label: "My Third Dataset",
                            data: [30, 60, 23, 38, 12, 74, 100],
                            fill: true,
                            backgroundColor: "rgba(48, 237, 41, 0.2)",
                            borderColor: "rgb(48, 237, 41)",
                            pointBackgroundColor: "rgb(48, 237, 41)",
                            pointBorderColor: "#fff",
                            pointHoverBackgroundColor: "#fff",
                            pointHoverBorderColor: "rgb(48, 237, 41)",
                          },
                        ],
                      },
                      options: {
                        responsive: true,
                      },
                    });
                  </script>
              </div>

            <div class="col-lg-4 col-md-6 d-flex align-items-stretch mt-4 mt-lg-0">
              <div class="icon-box-dashboard container">
                <div class="icon"><i class="fas fa-apple-alt"></i></div>
                <h4><a href="">MyDiet</a></h4>
                <p>See what you've eaten recently and get tips for foods you might like</p>
              </div>
            </div>

          </div>
        </div>
      </center>
    </section>
    <!-- End Services Section -->

 </main>
 <!-- End #main -->

{% endblock %}